(this["webpackJsonptwitter-clone-reactjs"]=this["webpackJsonptwitter-clone-reactjs"]||[]).push([[0],{161:function(e,t,a){},183:function(e,t){},185:function(e,t){},198:function(e,t){},200:function(e,t){},228:function(e,t){},229:function(e,t){},234:function(e,t){},236:function(e,t){},243:function(e,t){},262:function(e,t){},296:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(1),n=a(152),c=a.n(n),o=a(25),i=(a(161),a(11)),l=a(5),d=a(40),u=a(2),m=a.n(u),h=a(6),j=a(38),f=a(39),p=a(12),b=a.n(p),g=a(153),x=a.n(g),O="/api/auth/",w=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,null,[{key:"login",value:function(){var e=Object(h.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.post(O+"jwt/create/",{username:t,password:a}).then((function(e){if(e.data.access){var a=e.data.access,s=x.a.decode(a),r={id:s.user_id,username:t,token_exp:s.exp,access_token:e.data.access,refresh_token:e.data.refresh};return localStorage.setItem("user",JSON.stringify(r)),r}throw Error("Login failed.")})).catch((function(e){if(e.response){if(console.log(e.response.data),401===e.response.status)return{error:!0,message:e.response.data.detail};throw Error("Login failed with HTTP ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Login failed HTTP request. ".concat(JSON.stringify(e.request))):Error("Login failed: ".concat(e.message))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(h.a)(m.a.mark((function e(t,a,s,r,n,c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.post(O+"users/",{username:t,email:a,first_name:s,last_name:r,password:n,re_password:c}).then((function(e){if(201===e.status)return{data:e.data};throw Error("Register failed with HTTP ".concat(e.status,": ").concat(e.data))})).catch((function(e){if(!e.response)throw e.request?Error("Register failed HTTP request ".concat(e.request)):Error("Register failed: ".concat(e.message));if(400!==e.response.status)throw Error("Register failed with HTTP ".concat(e.response.status,": ").concat(e.response.data));var t=e.response.data;if(t.username)return{error:!0,message:{field:"username",value:t.username[0]}};if(t.email)return{error:!0,message:{field:"email",value:t.email[0]}};if(t.password)return{error:!0,message:{field:"password",value:t.password[0]}};throw Error("Register failed: ".concat(e.config))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,s,r,n,c){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"isAuthenticated",value:function(){var e=this.getCurrentUser(),t=new Date;return!!(e&&t.getTime()/1e3<e.token_exp)||(this.logout(),!1)}}]),e}();var v=function(){var e=Object(d.a)(),t=e.register,a=e.handleSubmit,n=e.errors,c=Object(i.g)(),u=Object(r.useState)(""),m=Object(l.a)(u,2),h=m[0],j=m[1],f=function(){return j("")};return Object(s.jsx)("div",{className:"auth-wrapper d-flex no-block justify-content-center align-items-center position-relative",children:Object(s.jsx)("div",{className:"auth-box row",style:{maxWidth:"400px"},children:Object(s.jsx)("div",{className:"col-lg-12 col-md-12 bg-white",children:Object(s.jsxs)("div",{className:"p-3",children:[Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("img",{src:"/static/logo192.png",style:{height:"5rem",width:"auto"},alt:"wrapkit"})}),Object(s.jsx)("h2",{className:"mt-3 text-center",children:"Sign In"}),Object(s.jsx)("p",{className:"text-center",children:"Enter your username and password to sign in. For demo account username: demo password: demo"}),Object(s.jsx)("form",{className:"mt-4",onSubmit:a((function(e){var t=e.username,a=e.password;w.login(t,a).then((function(e){e.error?(j(e.message),console.log("errorMessage",h)):(c.push("/home"),window.location.reload())})).catch((function(e){alert(e)}))})),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"uname",children:"Username"}),Object(s.jsx)("input",{className:"form-control",id:"uname",name:"username",type:"text",placeholder:"enter your username",onChange:f,ref:t({required:{value:!0,message:"Enter your username"}})}),n.username&&n.username.message&&Object(s.jsx)("span",{className:"text-danger",children:n.username.message})||h&&Object(s.jsx)("span",{className:"text-danger",children:h})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"pwd",children:"Password"}),Object(s.jsx)("input",{className:"form-control",id:"pwd",name:"password",type:"password",placeholder:"enter your password",onChange:f,ref:t({required:{value:!0,message:"Enter your password"}})}),n.password&&n.password.message&&Object(s.jsx)("span",{className:"text-danger",children:n.password.message})]})}),Object(s.jsx)("div",{className:"col-lg-12 text-center",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-block btn-dark",children:"Sign In"})}),Object(s.jsxs)("div",{className:"col-lg-12 text-center mt-5",children:["Don't have an account? ",Object(s.jsx)(o.b,{to:"/register",className:"text-danger",children:"Sign Up"})]})]})})]})})})})},N=a(8);var y=function(){var e=Object(d.a)(),t=e.register,a=e.handleSubmit,n=e.watch,c=e.errors,u=Object(r.useRef)({}),m=Object(i.g)(),h=Object(r.useState)({username:"",email:"",password:""}),j=Object(l.a)(h,2),f=j[0],p=j[1];u.current=n("password","");var b=function(){return p({username:"",email:"",password:""})};return Object(s.jsx)("div",{className:"auth-wrapper d-flex no-block justify-content-center align-items-center position-relative",children:Object(s.jsx)("div",{className:"auth-box row",style:{maxWidth:"400px"},children:Object(s.jsx)("div",{className:"col-lg-12 col-md-12 bg-white",children:Object(s.jsxs)("div",{className:"p-3",children:[Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("img",{src:"/static/logo192.png",style:{height:"5rem",width:"auto"},alt:"wrapkit"})}),Object(s.jsx)("h2",{className:"mt-3 text-center",children:"Sign Up"}),Object(s.jsx)("form",{className:"mt-4",onSubmit:a((function(e){var t=e.username,a=e.email,s=e.first_name,r=e.last_name,n=e.password,c=e.retype_password;w.register(t,a,s,r,n,c).then((function(e){e.error?(console.log(e.message),"username"===e.message.field&&p((function(t){return Object(N.a)(Object(N.a)({},t),{},{username:e.message.value})})),"email"===e.message.field&&p((function(t){return Object(N.a)(Object(N.a)({},t),{},{email:e.message.value})})),"password"===e.message.field&&p((function(t){return Object(N.a)(Object(N.a)({},t),{},{password:e.message.value})}))):w.login(t,n).then((function(){m.push("/home"),window.location.reload()})).catch((function(e){m.push("/login"),window.location.reload()})),console.log(f)})).catch((function(e){alert(e)}))})),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"uname",children:"Username"}),Object(s.jsx)("input",{className:"form-control",id:"uname",name:"username",type:"text",placeholder:"enter your username",onChange:b,ref:t({required:{value:!0,message:"This field is required"},minLength:{value:6,message:"Username must have at least 6 characters"},maxLength:{value:20,message:"Username cannot exceed 20 characters long"}})}),c.username&&c.username.message&&Object(s.jsx)("span",{className:"text-danger",children:c.username.message})||f.username&&Object(s.jsx)("span",{className:"text-danger",children:f.username})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"email",children:"Email"}),Object(s.jsx)("input",{className:"form-control",id:"email",name:"email",type:"email",placeholder:"enter your email address",onChange:b,ref:t({required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Please enter valid email"}})}),c.email&&c.email.message&&Object(s.jsx)("span",{className:"text-danger",children:c.email.message})||f.email&&Object(s.jsx)("span",{className:"text-danger",children:f.email})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"firstname",children:"First Name"}),Object(s.jsx)("input",{className:"form-control",id:"firstname",name:"first_name",type:"text",placeholder:"enter your first name",ref:t({required:{value:!0,message:"This field is required"},minLength:{value:2,message:"First name must have at least 6 characters"},maxLength:{value:25,message:"First name cannot exceed 25 characters long"}})}),c.first_name&&c.first_name.message&&Object(s.jsx)("span",{className:"text-danger",children:c.first_name.message})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"lastname",children:"Last Name"}),Object(s.jsx)("input",{className:"form-control",id:"lastname",name:"last_name",type:"text",placeholder:"enter your last name",ref:t({required:{value:!0,message:"This field is required"},minLength:{value:2,message:"Last name must have at least 2 characters"},maxLength:{value:25,message:"Last name cannot exceed 25 characters long"}})}),c.last_name&&c.last_name.message&&Object(s.jsx)("span",{className:"text-danger",children:c.last_name.message})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"pwd",children:"Password"}),Object(s.jsx)("input",{className:"form-control",id:"pwd",name:"password",type:"password",placeholder:"enter your password",onChange:b,ref:t({required:{value:!0,message:"You must specify a password"},minLength:{value:6,message:"Password must have at least 6 characters"}})}),c.password&&c.password.message&&Object(s.jsx)("span",{className:"text-danger",children:c.password.message})||f.password&&Object(s.jsx)("span",{className:"text-danger",children:f.password})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"re-pwd",children:"Retype Password"}),Object(s.jsx)("input",{className:"form-control",id:"re-pwd",name:"retype_password",type:"password",placeholder:"enter your password again",ref:t({validate:function(e){return e===u.current||"The passwords didn't match"}})}),c.retype_password&&c.retype_password.message&&Object(s.jsx)("span",{className:"text-danger",children:c.retype_password.message})]})}),Object(s.jsx)("div",{className:"col-lg-12 text-center",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-block btn-dark",disabled:!1,children:"Sign Up"})}),Object(s.jsxs)("div",{className:"col-lg-12 text-center mt-5",children:["Already have an account? ",Object(s.jsx)(o.b,{to:"/login",className:"text-danger",children:"Sign In"})]})]})})]})})})})},k=a(9);var _=function(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(!0),i=Object(l.a)(o,2),d=i[0],u=i[1];return Object(s.jsx)("div",{className:"card",children:Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.handleNewTweet(n),c("")},children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1 mr-3",children:Object(s.jsx)("img",{src:"/static/assets/images/users/profile-pic.jpg",alt:"user",className:"rounded-circle",width:60})}),Object(s.jsxs)("div",{className:"col-10",children:[Object(s.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"What's on your mind?",minLength:"10",maxLength:"255",value:n,onChange:function(e){c(e.target.value),n.length>=10?u(!1):u(!0)},style:{border:"none",outline:"none",overflow:"auto",resize:"none"}}),Object(s.jsx)("small",{id:"textHelp",className:"form-text text-muted",children:(n.length||0)+" / 255"})]})]}),Object(s.jsx)("div",{className:"row justify-content-end px-3 my-2",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-rounded btn-primary mr-3",disabled:d,children:"Tweet"})})]})})})},F=a(298),T=a(299),E=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,null,[{key:"getHeaders",value:function(){var e=w.getCurrentUser();return e?{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+e.access_token}:{"Content-Type":"application/json",Accept:"application/json"}}},{key:"getFeeds",value:function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:"/api/feeds/",headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(404===e.response.status)return{error:!0,message:"Tweet not found",status:e.response.status,data:null};return{error:!0,message:"Failed to fetch tweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTweeet",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:"/api/tweet/"+t,headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(404===e.response.status)return{error:!0,message:"Tweet not found",status:e.response.status,data:null};return{error:!0,message:"Failed to fetch tweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"newTweet",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:null,e.abrupt("return",b()({method:"post",url:"/api/tweets/",headers:this.getHeaders(),data:{content:t,image:a}}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(401===e.response.status)w.logout(),window.location.reload();else if(400===e.response.status)return{error:!0,message:Object.values(e.response.data).join(". "),status:e.response.status,data:null};return{error:!0,message:"Failed to post new tweet",status:e.response.status,data:null}})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"likeTweet",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"post",url:"/api/tweet/"+t+"/like/",headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(401===e.response.status)w.logout(),window.location.reload();else if(404===e.response.status)return{error:!0,message:Object.values(e.response.data).join(". "),status:e.response.status,data:null};return{error:!0,message:"Failed to like tweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlikeTweet",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"post",url:"/api/tweet/"+t+"/unlike/",headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(401===e.response.status)w.logout(),window.location.reload();else if(404===e.response.status)return{error:!0,message:Object.values(e.response.data).join(". "),status:e.response.status,data:null};return{error:!0,message:"Failed to unlike tweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retweet",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"post",url:"/api/tweet/"+t+"/retweet/",headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(401===e.response.status)w.logout(),window.location.reload();else if(4===Math.round(e.response.status/100))return{error:!0,message:Object.values(e.response.data).join(". "),status:e.response.status,data:null};return{error:!0,message:"Failed to perfom retweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeTweet",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"delete",url:"/api/tweet/"+t,headers:this.getHeaders()}).then((function(e){return{error:!1,message:"Success",status:e.status,data:e.data}})).catch((function(e){if(401===e.response.status)w.logout(),window.location.reload();else if(401===e.response.status)w.logout(),window.location.reload();else if(4===Math.round(e.response.status/100))return{error:!0,message:Object.values(e.response.data).join(". "),status:e.response.status,data:null};return{error:!0,message:"Failed to remove tweet",status:e.response.status,data:null}})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=a(155),q=a.n(S),H={borderTop:"1px solid var(--light)"},C={fontSize:"1em",width:"2rem",height:"2rem"};var P=function(e){var t=Object(r.useState)(e.tweet),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(e.tweet.is_already_liked?"btn-danger":"btn-light"),i=Object(l.a)(o,2),d=i[0],u=i[1],m=Object(r.useState)(e.tweet.is_already_retweeted?"btn-primary":"btn-light"),h=Object(l.a)(m,2),j=h[0],f=h[1];return Object(s.jsxs)("div",{className:"card-body",style:H,children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1 mr-3",children:Object(s.jsx)("img",{src:"/static/assets/images/users/profile-pic.jpg",alt:"user",className:"rounded-circle",width:60})}),Object(s.jsxs)("div",{className:"col-10",children:[Object(s.jsxs)("h5",{className:"text-dark",children:[Object(s.jsx)("a",{href:"/profile/"+n.user.username,children:n.user&&n.user.first_name+" "+n.user.last_name}),Object(s.jsxs)("span",{children:[" @",n.user.username]}),n.is_a_retweet&&Object(s.jsxs)("span",{children:[Object(s.jsx)("b",{children:" retweeted from @"}),Object(s.jsx)("a",{href:"/profile/"+n.retweeted_from.username,children:n.retweeted_from.username})]})]}),Object(s.jsx)("p",{children:e.tweet.content})]})]}),Object(s.jsxs)("div",{className:"row justify-content-center px-3 my-2",children:[Object(s.jsxs)("div",{className:"col-2",children:[Object(s.jsx)("button",{type:"button",className:d+" btn btn-xs btn-circle p-0 mr-2",onClick:function(){n.is_already_liked?E.unlikeTweet(e.tweet.id).then((function(e){e.error||(c(e.data),u("btn-light"))})):E.likeTweet(e.tweet.id).then((function(e){e.error||(c(e.data),u("btn-danger"))}))},style:C,children:Object(s.jsx)(F.a,{size:".8rem"})}),Object(s.jsx)("span",{children:n.likes_count&&n.likes_count||0})]}),Object(s.jsxs)("div",{className:"col-2",children:[Object(s.jsx)("button",{type:"button",className:j+" btn btn-xs btn-circle p-0 mr-2",onClick:function(){n.is_already_retweeted?E.removeTweet(e.tweet.id).then((function(t){t.error||e.removeTweet(e.tweet.id)})):E.retweet(e.tweet.id).then((function(t){t.error||(c(t.data),f("btn-primary")),e.pushTweet(t.data)}))},style:C,children:Object(s.jsx)(T.a,{size:".8rem"})}),Object(s.jsx)("span",{children:n.retweet_count&&n.retweet_count||0})]})]}),Object(s.jsx)("div",{className:"row justify-content-end pr-3 my-2",children:Object(s.jsxs)("h6",{children:[" ",q()(n.timestamp).fromNow()]})})]})};function L(e){if(Array.isArray(e)&&e.length>0){var t=[],a=[];return e.forEach((function(e){e.is_a_retweet&&t.push(e.parent),e.is_already_retweeted&&a.push(e.parent)})),e.filter((function(e){return e.is_already_retweeted||-1===t.indexOf(e.id)&&-1===a.indexOf(e.parent)}))}return e}var A=function(e){return Object(s.jsx)("div",{className:"card",children:Array.isArray(e.tweets)&&L(e.tweets).sort((function(e,t){return t.timestamp-e.timestamp})).map((function(t){return Object(s.jsx)(P,{tweet:t,pushTweet:e.pushTweet,removeTweet:e.removeTweet},t.id)}))})},M="/api/profile/",U=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,null,[{key:"getHeaders",value:function(){var e=w.getCurrentUser();return e?{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+e.access_token}:{"Content-Type":"application/json",Accept:"application/json"}}},{key:"getProfile",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:M+t+"/",headers:this.getHeaders()}).then((function(e){if(200===e.status)return{error:!1,message:null,data:e.data};throw Error("Failed to fetch data.")})).catch((function(e){if(e.response){if(console.log(e.response.data),404===e.response.status)return{error:!0,message:e.response.data};throw Error("Failed to fetch data with HTTP ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to fetch data. ".concat(e.request)):Error("Failed to fetch data. ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTweets",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:M+t+"/tweets/",headers:this.getHeaders()}).then((function(e){if(200===e.status)return{error:!1,message:null,data:e.data};throw Error("Failed to fetch data.")})).catch((function(e){if(e.response){if(console.log(e.response.data),401===e.response.status)return{error:!0,message:e.response.data.detail};throw Error("Failed to fetch data with HTTP ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to fetch data. ".concat(e.request)):Error("Failed to fetch data. ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"me",value:function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:"/api/profile/me/",headers:this.getHeaders()}).then((function(e){if(200===e.status)return{error:!1,message:null,data:e.data};throw Error("Failed to fetch data.")})).catch((function(e){if(e.response){if(console.log(e.response.data),401===e.response.status)return{error:!0,message:e.response.data.detail};throw Error("Failed to fetch data with HTTP ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to fetch data. ".concat(e.request)):Error("Failed to fetch data. ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=Object(h.a)(m.a.mark((function e(t,a,s,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t&&a&&s&&r&&s?"put":"patch",e.abrupt("return",b()({method:n,url:"/api/profile/me/",headers:this.getHeaders(),data:{first_name:t,last_name:a,bio:s,location:r}}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to update profile.")})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to update profile ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed update profile. ".concat(e.request)):Error("Failed to update profile ".concat(e.config))})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a,s,r){return e.apply(this,arguments)}}()},{key:"whoToFollow",value:function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:"/api/profile/who-to-follow",headers:this.getHeaders()}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to fetch who to follow ".concat(e.response.status,": ").concat(e.response.data))})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to fetch who to follow ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to fetch who to follow ".concat(e.request)):Error("Failed to fetch who to follow ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"followProfile",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"post",url:M+t+"/follow/",headers:this.getHeaders()}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to follow profile.")})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to follow profile ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed follow profile. ".concat(e.request)):Error("Failed to follow profile ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unfollowProfile",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"post",url:M+t+"/unfollow/",headers:this.getHeaders()}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to unfollow profile.")})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to unfollow profile ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed unfollow profile. ".concat(e.request)):Error("Failed to unfollow profile ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"following",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:M+t+"/following/",headers:this.getHeaders()}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to get following list")})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to get following list ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to get following list ".concat(e.request)):Error("Failed to get following list ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"followers",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({method:"get",url:M+t+"/followers/",headers:this.getHeaders()}).then((function(e){if(2===Math.round(e.status/100))return{error:!1,message:null,data:e.data};throw Error("Failed to get followers list")})).catch((function(e){if(e.response){if(4===Math.round(e.response.status/100))return{error:!0,message:e.response.data.detail};throw Error("Failed to get followers list ".concat(e.response.status,": ").concat(e.response.data))}throw e.request?Error("Failed to get followers list ".concat(e.request)):Error("Failed to get followers list ".concat(e.config))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),z={borderTop:"1px solid var(--light)"};var I=function(e){var t=Object(r.useState)(e.profile.already_followed),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(e.profile.already_followed?"btn-success":"btn-primary"),i=Object(l.a)(o,2),d=i[0],u=i[1],m=Object(r.useState)(e.profile.already_followed?"Following":"Follow"),h=Object(l.a)(m,2),j=h[0],f=h[1];return Object(s.jsx)("div",{className:"card-body",style:z,children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("img",{src:"/static/assets/images/users/profile-pic.jpg",alt:"user",className:"rounded-circle",width:60})}),Object(s.jsxs)("div",{className:"col-5",children:[Object(s.jsx)("h5",{className:"text-dark",children:Object(s.jsx)("a",{href:"/profile/"+e.profile.username,children:e.profile.first_name+" "+e.profile.last_name})}),Object(s.jsxs)("h5",{className:"text-dark",children:["@",e.profile.username]})]}),Object(s.jsx)("div",{className:"col-4 text-center mx-0",children:Object(s.jsx)("button",{className:d+" btn btn-rounded",onClick:function(){n?U.unfollowProfile(e.profile.username).then((function(e){e.error||(u("btn-primary"),f("Follow"),c(e.data.already_followed))})):U.followProfile(e.profile.username).then((function(e){e.error||(u("btn-success"),f("Following"),c(e.data.already_followed))}))},children:j})})]})})};var R=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){U.whoToFollow().then((function(e){e.error?alert(e.message):c(e.data)})).catch((function(e){alert(e.message)}))}),[]),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("h4",{className:"card-title",children:"Who to follow?"})}),n&&n.map((function(e){return Object(s.jsx)(I,{profile:e},e.user_id)}))]})};var J=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useRef)(!1);return Object(r.useEffect)((function(){o.current||(E.getFeeds().then((function(e){e.error?alert(e.message):c(e.data)})).catch((function(e){alert(e)})),o.current=!0)}),[n]),Object(s.jsxs)("div",{className:"row p-4",children:[Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)(_,{handleNewTweet:function(e){E.newTweet(e).then((function(e){e.error||c([e.data].concat(Object(k.a)(n)))}))}}),Object(s.jsx)(A,{tweets:n,pushTweet:function(e){-1===n.map((function(e){return e.id})).indexOf(e.id)&&c([e].concat(Object(k.a)(n)))},removeTweet:function(e){c(n.filter((function(t){return t.id!==e})))}})]}),Object(s.jsx)("div",{className:"right-sidebar col-md-4",children:Object(s.jsx)(R,{})})]})};var B=function(e){var t=Object(r.useState)({type:void 0,content:[]}),a=Object(l.a)(t,2),n=a[0],c=a[1];function o(t){var a="Followers"===t?e.followers:e.following;c(Object(N.a)(Object(N.a)({},n),{},{type:t,content:a}))}return Object(s.jsxs)("div",{className:"card text-center",children:[Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row justify-content-center my-3",children:Object(s.jsx)("img",{src:"/static/assets/images/users/profile-pic.jpg",alt:"user",className:"rounded-circle",width:60})}),Object(s.jsx)("h3",{className:"card-title",children:e.profile&&e.profile.first_name+" "+e.profile.last_name}),Object(s.jsx)("h4",{className:"card-subtitle",children:e.profile&&"@".concat(e.profile.username)}),Object(s.jsx)("small",{className:"badge badge-pill badge-info form-text text-white",children:e.profile&&e.profile.location}),Object(s.jsx)("h6",{className:"card-text my-3",children:e.profile&&e.profile.bio}),Object(s.jsxs)("div",{className:"row justify-content-center my-3",children:[Object(s.jsxs)("a",{href:"",className:"col-2",children:[Object(s.jsx)("h2",{className:"text-dark mb-1 font-weight-small",children:e.profile&&e.profile.tweet_count||0}),Object(s.jsx)("h6",{className:"text-muted font-weight-normal mb-0 w-100 text-truncate",children:"Tweets"})]}),Object(s.jsxs)("a",{href:"",className:"col-2","data-toggle":"modal","data-target":"#scrollable-modal",onClick:function(){return o("Following")},children:[Object(s.jsx)("h2",{className:"text-dark mb-1 font-weight-small",children:e.profile&&e.profile.following_count||0}),Object(s.jsx)("h6",{className:"text-muted font-weight-normal mb-0 w-100 text-truncate",children:"Following"})]}),Object(s.jsxs)("a",{href:"",className:"col-2","data-toggle":"modal","data-target":"#scrollable-modal",onClick:function(){return o("Followers")},children:[Object(s.jsx)("h2",{className:"text-dark mb-1 font-weight-small",children:e.profile&&e.profile.follower_count||0}),Object(s.jsx)("h6",{className:"text-muted font-weight-normal mb-0 w-100 text-truncate",children:"Followers"})]})]})]}),Object(s.jsx)("div",{className:"modal fade text-left",id:"scrollable-modal",tabIndex:-1,role:"dialog","aria-labelledby":"scrollableModalTitle","aria-hidden":"true",style:{display:"none"},children:Object(s.jsxs)("div",{className:"modal-dialog modal-dialog-scrollable",role:"document",children:[Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"scrollableModalTitle",children:n.type&&n.type}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)("div",{className:"row",children:n.content&&n.content.map((function(e){return Object(s.jsx)(I,{profile:e},e.user_id)}))})})]}),"  "]})})]})};var D=function(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(),i=Object(l.a)(o,2),d=i[0],u=i[1],m=Object(r.useState)(),h=Object(l.a)(m,2),j=h[0],f=h[1],p=Object(r.useState)([]),b=Object(l.a)(p,2),g=b[0],x=b[1];return Object(r.useEffect)((function(){e.username&&U.getProfile(e.username).then((function(t){t.error?alert(JSON.stringify(t.message)):(f(t.data),U.following(e.username).then((function(e){c(e.data)})),U.followers(e.username).then((function(e){u(e.data)})),U.getTweets(e.username).then((function(e){t.error?alert(JSON.stringify(e.message)):x(e.data)})).catch((function(e){alert(e)})))})).catch((function(e){alert(e)}))}),[e]),Object(s.jsxs)("div",{className:"row p-4",children:[Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)(B,{profile:j,following:n,followers:d}),Object(s.jsx)(A,{tweets:g,pushTweet:function(e){-1===g.map((function(e){return e.id})).indexOf(e.id)&&x([e].concat(Object(k.a)(g)))},removeTweet:function(e){x(g.filter((function(t){return t.id!==e})))}})]}),Object(s.jsx)("div",{className:"right-sidebar col-md-4",children:Object(s.jsx)(R,{})})]})};var W=function(e){var t=Object(d.a)(),a=t.register,n=t.handleSubmit,c=t.setValue,o=t.errors,i=Object(r.useState)(!1),u=Object(l.a)(i,2),m=u[0],h=u[1];Object(r.useEffect)((function(){j(),h(!1)}),[]);var j=function(){U.me().then((function(e){e.error||(c("first_name",e.data.first_name),c("last_name",e.data.last_name),c("location",e.data.location),c("bio",e.data.bio))}))};return Object(s.jsx)("div",{className:"row p-4",children:Object(s.jsx)("div",{className:"col-lg-12 col-md-12 bg-white",children:Object(s.jsx)("div",{className:"p-3",children:Object(s.jsx)("form",{className:"mt-4",onSubmit:n((function(e){var t=e.first_name,a=e.last_name,s=e.location,r=e.bio;U.updateProfile(t,a,r,s).then((function(){j(),h(!0)})).catch((function(e){alert(e)}))})),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"first_name",children:"First Name"}),Object(s.jsx)("input",{className:"form-control",id:"first_name",name:"first_name",type:"text",placeholder:"First Name",ref:a({required:{value:!0,message:"Enter your first name"}})}),o.first_name&&o.first_name.message&&Object(s.jsx)("span",{className:"text-danger",children:o.first_name.message})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"last_name",children:"Last Name"}),Object(s.jsx)("input",{className:"form-control",id:"last_name",name:"last_name",type:"text",placeholder:"Last Name",ref:a({required:{value:!0,message:"Enter your last name"}})}),o.last_name&&o.last_name.message&&Object(s.jsx)("span",{className:"text-danger",children:o.last_name.message})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"location",children:"Location"}),Object(s.jsx)("input",{className:"form-control",id:"location",name:"location",type:"text",placeholder:"Location",ref:a({required:{value:!0,message:"Enter your location"}})}),o.location&&o.location.message&&Object(s.jsx)("span",{className:"text-danger",children:o.location.message})]})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-dark",htmlFor:"location",children:"Bio"}),Object(s.jsx)("input",{className:"form-control",id:"bio",name:"bio",type:"text",placeholder:"Bio",ref:a({required:{value:!0,message:"Enter your biography"}})}),o.bio&&o.bio.message&&Object(s.jsx)("span",{className:"text-danger",children:o.bio.message})]})}),Object(s.jsx)("div",{className:"col-lg-12 text-center mt-5",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-block btn-dark",disabled:m,children:m?"Saved":"Save"})})]})})})})})},Z=a(41),Y=function(e){var t=e.component,a=Object(Z.a)(e,["component"]),r=w.isAuthenticated();return Object(s.jsx)(i.b,Object(N.a)(Object(N.a)({},a),{},{render:function(e){return r?Object(s.jsx)(i.a,{to:{pathname:"/home",state:{from:e.location}}}):Object(s.jsx)(t,Object(N.a)(Object(N.a)({},a),e))}}))};function $(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){U.me().then((function(e){c(e.data)}))}),[]),Object(s.jsx)("header",{className:"topbar","data-navbarbg":"skin6",children:Object(s.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md",children:[Object(s.jsxs)("div",{className:"navbar-header","data-logobg":"skin6",children:[Object(s.jsx)("a",{className:"nav-toggler waves-effect waves-light d-block d-md-none",href:"/",children:Object(s.jsx)("i",{className:"ti-menu ti-close"})}),Object(s.jsx)("div",{className:"navbar-brand",children:Object(s.jsxs)("a",{href:"/",children:[Object(s.jsxs)("b",{className:"logo-icon",children:[Object(s.jsx)("img",{src:"/static/assets/images/logo-icon.png",alt:"homepage",className:"dark-logo"}),Object(s.jsx)("img",{src:"/static/assets/images/logo-icon.png",alt:"homepage",className:"light-logo"})]}),Object(s.jsxs)("span",{className:"logo-text",children:[Object(s.jsx)("img",{src:"/static/assets/images/logo-text.png",alt:"homepage",className:"dark-logo"}),Object(s.jsx)("img",{src:"/static/assets/images/logo-light-text.png",className:"light-logo",alt:"homepage"})]})]})}),Object(s.jsx)("a",{className:"topbartoggler d-block d-md-none waves-effect waves-light",href:"/","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("i",{className:"ti-more"})})]}),Object(s.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(s.jsx)("ul",{className:"navbar-nav float-left mr-auto ml-3 pl-1",children:Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("h3",{className:"text-dark mx-3",children:e.headerTitle})})}),Object(s.jsxs)("ul",{className:"navbar-nav float-right",children:[Object(s.jsx)("li",{className:"nav-item d-none d-md-block",children:Object(s.jsx)("a",{className:"nav-link",href:"/",children:Object(s.jsx)("form",{children:Object(s.jsxs)("div",{className:"customize-input",children:[Object(s.jsx)("input",{className:"form-control custom-shadow custom-radius border-0 bg-white",type:"search",placeholder:"Search","aria-label":"Search"}),Object(s.jsx)("i",{className:"form-control-icon","data-feather":"search"})]})})})}),Object(s.jsxs)("li",{className:"nav-item dropdown",children:[Object(s.jsxs)("a",{className:"nav-link dropdown-toggle",href:"/","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(s.jsx)("img",{src:"/static/assets/images/users/profile-pic.jpg",alt:"user",className:"rounded-circle",width:40}),Object(s.jsxs)("span",{className:"ml-2 d-none d-lg-inline-block",children:[Object(s.jsx)("span",{className:"text-dark",children:n&&n.first_name})," ",Object(s.jsx)("i",{"data-feather":"chevron-down",className:"svg-icon"})]})]}),Object(s.jsxs)("div",{className:"dropdown-menu dropdown-menu-right user-dd animated flipInY",children:[Object(s.jsxs)("a",{className:"dropdown-item",href:"/profile",children:[Object(s.jsx)("i",{"data-feather":"user",className:"svg-icon mr-2 ml-1"}),"My Profile"]}),Object(s.jsxs)("a",{className:"dropdown-item",href:"/settings",children:[Object(s.jsx)("i",{"data-feather":"settings",className:"svg-icon mr-2 ml-1"}),"Account Setting"]}),Object(s.jsxs)("a",{className:"dropdown-item",href:"/logout",children:[Object(s.jsx)("i",{"data-feather":"power",className:"svg-icon mr-2 ml-1"}),"Logout"]})]})]})]})]})]})})}function V(){return Object(s.jsx)("aside",{className:"left-sidebar","data-sidebarbg":"skin6",children:Object(s.jsx)("div",{className:"scroll-sidebar","data-sidebarbg":"skin6",children:Object(s.jsx)("nav",{className:"sidebar-nav",children:Object(s.jsxs)("ul",{id:"sidebarnav",children:[Object(s.jsxs)("li",{className:"sidebar-item",children:[" ",Object(s.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/home","aria-expanded":"false",children:[Object(s.jsx)("i",{"data-feather":"home",className:"feather-icon"}),Object(s.jsx)("span",{className:"hide-menu",children:"Home"})]})]}),Object(s.jsxs)("li",{className:"sidebar-item",children:[" ",Object(s.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/profile","aria-expanded":"false",children:[Object(s.jsx)("i",{"data-feather":"user",className:"feather-icon"}),Object(s.jsx)("span",{className:"hide-menu",children:"Profile"})]})]}),Object(s.jsxs)("li",{className:"sidebar-item",children:[" ",Object(s.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/settings","aria-expanded":"false",children:[Object(s.jsx)("i",{"data-feather":"settings",className:"feather-icon"}),Object(s.jsx)("span",{className:"hide-menu",children:"Settings"})]})]}),Object(s.jsxs)("li",{className:"sidebar-item",children:[" ",Object(s.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/logout","aria-expanded":"false",children:[Object(s.jsx)("i",{"data-feather":"log-out",className:"feather-icon"}),Object(s.jsx)("span",{className:"hide-menu",children:"Logout"})]})]})]})})})})}var G=function(e){var t=e.component,a=Object(Z.a)(e,["component"]),r=w.isAuthenticated();return Object(s.jsx)(i.b,Object(N.a)(Object(N.a)({},a),{},{render:function(e){return r?Object(s.jsx)(t,Object(N.a)(Object(N.a)({},a),e)):Object(s.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},K=function(e){var t=e.component,a=Object(Z.a)(e,["component"]);return Object(s.jsxs)("div",{id:"main-wrapper","data-theme":"light","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",children:[Object(s.jsx)($,{headerTitle:a.title}),Object(s.jsx)(V,{}),Object(s.jsx)("div",{className:"page-wrapper",children:Object(s.jsx)(G,Object(N.a)(Object(N.a)({},a),{},{component:t}))})]})};var Q=function(){var e=Object(i.g)(),t=w.getCurrentUser(),a=function(){var e=Object(i.h)();return e.username?Object(s.jsx)(D,{username:e.username}):Object(s.jsx)(D,{username:t.username})};return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(i.d,{children:[Object(s.jsx)(Y,{path:"/login",component:v}),Object(s.jsx)(i.b,{path:"/logout",render:function(){w.logout(),e.push("/login")}}),Object(s.jsx)(Y,{path:"/register",component:y}),Object(s.jsx)(K,{path:"/home",title:"Home",component:J}),Object(s.jsx)(K,{path:"/profile/:username",title:"Profile",component:a}),Object(s.jsx)(K,{exact:!0,path:"/profile",title:"Profile",component:a}),Object(s.jsx)(K,{path:"/settings",title:"Settings",component:W}),Object(s.jsx)(K,{path:"/",title:"Home",component:J})]})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,300)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))};c.a.render(Object(s.jsx)(o.a,{children:Object(s.jsx)(Q,{})}),document.getElementById("root")),X()}},[[296,1,2]]]);
//# sourceMappingURL=main.464ec437.chunk.js.map